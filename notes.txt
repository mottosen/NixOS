update flake lock file:
nix flake update

update system flake:
sudo nixos-rebuild switch --flake .#<system_profile>





# Be sudo
sudo -i

# Configure Partitions
cfdisk
    device      size    type
    /dev/sda1   ~1gb    efi system/bios_boot
    /dev/sda2   rest    linux filesystem

# Label Partitions
mkfs.fat -F32 -n EFI /dev/sda1 (-- ONLY EFI --)
mkfs.ext4 -L nixos /dev/sda2

# Mount Partitions
mount /dev/disk/by-label/nixos /mnt
mkdir /mnt/boot && mount /dev/disk/by-label/EFI /mnt/boot (-- ONLY EFI --)

# Install NixOS from Flake
nixos-install --flake "github:mottosen/NixOS#system

# Shutdown System
poweroff

# Remove ISO media

# Boot up System







# Turn Wi-Fi on and see your interface
nmcli radio wifi on
nmcli dev status          # note your wifi device (e.g. wlan0)


# Scan and list networks
nmcli dev wifi rescan
nmcli dev wifi list


# Connect (WPA/WPA2-Personal)
# simplest (auto-picks your wifi device)
nmcli dev wifi connect "YOUR_SSID" password "YOUR_PASSWORD"

# if you have multiple wifi devices
nmcli dev wifi connect "YOUR_SSID" password "YOUR_PASSWORD" ifname wlan0

# hidden SSID
nmcli dev wifi connect "YOUR_HIDDEN_SSID" password "YOUR_PASSWORD" hidden yes


# Check youâ€™re online
nmcli -p con show --active
nmcli dev show wlan0 | grep -E 'IP4.ADDRESS|IP4.GATEWAY|DNS'
ping -c3 1.1.1.1 && ping -c3 nixos.org


# Handy extras
nmcli con mod "<SSID>" connection.autoconnect yes   # auto-connect at boot
nmcli con delete "<SSID>"                           # forget a network
nmcli dev wifi connect <BSSID> password "..."       # connect to a specific AP

